<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¦„ Absurdist Recipe Generator ğŸš€</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¦„ Absurdist Recipe Generator ğŸš€</h1>
            <p class="subtitle">Transform emojis into culinary adventures (or disasters)</p>
        </header>

        <main>
            <div class="input-section">
                <div class="emoji-input-container">
                    <label for="emoji-input">Enter your emoji ingredients:</label>
                    <input 
                        type="text" 
                        id="emoji-input" 
                        placeholder="ğŸ•ğŸ§„ğŸ¥© or ğŸ¦„ğŸ’€ğŸš€ - let your imagination run wild!"
                        maxlength="100"
                    >
                    <button id="generate-btn" onclick="generateRecipe()">
                        ğŸ§ª Generate Recipe
                    </button>
                </div>
                
                <div class="examples">
                    <h3>Try these examples:</h3>
                    <div class="example-buttons">
                        <button class="example-btn" onclick="setInput('ğŸ•ğŸ§„ğŸ¥©ğŸ§€')">Normal: Pizza Ingredients</button>
                        <button class="example-btn" onclick="setInput('ğŸ˜ŠğŸ˜‹ğŸŒŸâœ¨')">Happy: Joyful Treats</button>
                        <button class="example-btn" onclick="setInput('ğŸ˜¢ğŸ’™â˜”ğŸ²')">Sad: Comfort Food</button>
                        <button class="example-btn" onclick="setInput('â¤ï¸ğŸ’•ğŸŒ¹ğŸ°')">Love: Romantic Dish</button>
                        <button class="example-btn" onclick="setInput('ğŸ˜ ğŸ”¥ğŸŒ¶ï¸âš¡')">Angry: Spicy Fire</button>
                        <button class="example-btn" onclick="setInput('ğŸ¦„ğŸ’€ğŸš€âš¡')">Absurd: Mystical Chaos</button>
                    </div>
                </div>
            </div>

            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <p>Conjuring your recipe from the digital ether... âœ¨</p>
            </div>

            <div class="recipe-output" id="recipe-output">
                <div class="welcome-message">
                    <h3>Welcome to the Recipe Generator! ğŸ‘‹</h3>
                    <p>Enter some emojis above to get started:</p>
                    <ul>
                        <li><strong>Food emojis</strong> (ğŸ•ğŸ¥©ğŸ§€) â†’ Get realistic, cookable recipes</li>
                        <li><strong>Emotion emojis</strong> (ğŸ˜Šâ¤ï¸ğŸ˜ ) â†’ Get mood-themed recipes</li>
                        <li><strong>Random emojis</strong> (ğŸ¦„ğŸš€ğŸ’€) â†’ Get hilariously absurd "recipes"</li>
                    </ul>
                    <p class="api-notice">
                        <strong>âš ï¸ Backend Required:</strong> 
                        Make sure the backend server is running on http://localhost:5000
                    </p>
                </div>
            </div>
        </main>

        <footer>
            <p>Made with ğŸ’œ and a healthy dose of absurdism</p>
            <p class="tech-note">Powered by OpenAI GPT-4o-mini</p>
        </footer>
    </div>

    <script src="recipe-generator.js"></script>
    <script>
        // Main function to generate recipe from UI
        async function generateRecipe() {
            const input = document.getElementById('emoji-input').value.trim();
            const outputDiv = document.getElementById('recipe-output');
            const loadingDiv = document.getElementById('loading');
            const generateBtn = document.getElementById('generate-btn');

            if (!input) {
                outputDiv.innerHTML = '<div class="error">Please enter some emojis first! ğŸ¤”</div>';
                return;
            }

            // Show loading state
            loadingDiv.style.display = 'block';
            outputDiv.innerHTML = '';
            generateBtn.disabled = true;
            generateBtn.textContent = 'ğŸ§ª Generating...';

            try {
                const recipe = await generateRecipeFromEmojis(input);
                outputDiv.innerHTML = recipe;
            } catch (error) {
                console.error('Error:', error);
                outputDiv.innerHTML = `<div class="error">
                    <h3>Something went wrong! ğŸ˜…</h3>
                    <p>Error: ${error.message}</p>
                </div>`;
            } finally {
                // Hide loading state
                loadingDiv.style.display = 'none';
                generateBtn.disabled = false;
                generateBtn.textContent = 'ğŸ§ª Generate Recipe';
            }
        }

        // Helper function to set example inputs
        function setInput(emojiString) {
            document.getElementById('emoji-input').value = emojiString;
        }

        // Allow Enter key to trigger generation
        document.getElementById('emoji-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateRecipe();
            }
        });

        // Auto-focus the input field
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('emoji-input').focus();
        });
    </script>
</body>
</html>
